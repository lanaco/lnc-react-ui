import { Meta, Story, Canvas, Props } from "@storybook/addon-docs/blocks";
import { ArgsTable, Stories } from "@storybook/addon-docs";
import ConfirmationForm from "./ConfirmationForm";
import Icon from "../../General/Icon/Icon";
import { useState, useRef } from "react";
import Button from "../../General/Button/Button";
import { Prism as SyntaxHighlighter } from "react-syntax-highlighter";
import { nord } from "react-syntax-highlighter/dist/esm/styles/prism";

<Meta title="Utility/Confirmation Form" component={ConfirmationForm} />

export const TemplateDefault = (args) => {
  const modalRef = useRef();
  return (
    <>
      <Button onClick={() => modalRef.current.open()}>Open Modal</Button>
      <ConfirmationForm
        ref={modalRef}
        actions={
          <Button onClick={() => modalRef.current.close()}>
            Got it, thanks!
          </Button>
        }
        title={"Payment successful"}
        {...args}
      >
        Your payment has been successfully submitted. We’ve sent you an email
        with all of the details of your order.
      </ConfirmationForm>
    </>
  );
};

export const TemplateStatus = (args) => {
  const [status, setStatus] = useState("information");
  const modalRef = useRef();
  const openModal = (modalStatus) => {
    setStatus(modalStatus);
    modalRef.current.open();
  };
  return (
    <>
      <div style={{ display: "flex", gap: "12px" }}>
        <Button onClick={() => openModal("success")} color="success">
          Success Status
        </Button>
        <Button onClick={() => openModal("danger")} color="danger">
          Danger Status
        </Button>
        <Button onClick={() => openModal("warning")} color="warning">
          Warning Status
        </Button>
        <Button onClick={() => openModal("information")} color="information">
          Information Status
        </Button>
      </div>
      <ConfirmationForm
        ref={modalRef}
        color={status}
        actionsAlignment={"right"}
        actionsTrack={true}
        actions={
          <>
            <Button
              btnType="outline"
              color="neutral"
              onClick={() => modalRef.current.close()}
            >
              Dismiss
            </Button>
            <Button btnType="tinted" color="secondary">
              Open
            </Button>
          </>
        }
        title={"Payment successful"}
        {...args}
      >
        Your payment has been successfully submitted. We’ve sent you an email
        with all of the details of your order.
      </ConfirmationForm>
    </>
  );
};

export const TemplateStatusIconString = (args) => {
  const [status, setStatus] = useState("information");
  const modalRef = useRef();
  const openModal = (modalStatus) => {
    setStatus(modalStatus);
    modalRef.current.open();
  };
  return (
    <>
      <div style={{ display: "flex", gap: "12px" }}>
        <Button onClick={() => openModal("secondary")} color="secondary">
          Open Modal
        </Button>
      </div>
      <ConfirmationForm
        ref={modalRef}
        statusIcon="user"
        color={status}
        actionsAlignment={"right"}
        actions={
          <>
            <Button
              btnType="outline"
              color="neutral"
              onClick={() => modalRef.current.close()}
            >
              Dismiss
            </Button>
            <Button btnType="tinted" color="secondary">
              Open
            </Button>
          </>
        }
        title={"Payment successful"}
        {...args}
      >
        Your payment has been successfully submitted. We’ve sent you an email
        with all of the details of your order.
      </ConfirmationForm>
    </>
  );
};

export const TemplateStatusElement = (args) => {
  const [status, setStatus] = useState("information");
  const modalRef = useRef();
  const openModal = (modalStatus) => {
    setStatus(modalStatus);
    modalRef.current.open();
  };
  return (
    <>
      <div style={{ display: "flex", gap: "12px" }}>
        <Button onClick={() => openModal("secondary")} color="secondary">
          Open Modal
        </Button>
      </div>
      <ConfirmationForm
        ref={modalRef}
        statusIcon={<Icon icon="user" />}
        color={status}
        actionsAlignment={"right"}
        actions={
          <>
            <Button
              btnType="outline"
              color="neutral"
              onClick={() => modalRef.current.close()}
            >
              Dismiss
            </Button>
            <Button btnType="tinted" color="secondary">
              Open
            </Button>
          </>
        }
        title={"Payment successful"}
        {...args}
      >
        Your payment has been successfully submitted. We’ve sent you an email
        with all of the details of your order.
      </ConfirmationForm>
    </>
  );
};

export const TemplateCentered = (args) => {
  const modalRef = useRef();
  return (
    <>
      <Button onClick={() => modalRef.current.open()}>Open Modal</Button>
      <ConfirmationForm
        ref={modalRef}
        type={"centered"}
        actions={
          <>
            <Button btnType="tinted" color="secondary">
              Open
            </Button>
            <Button
              btnType="outline"
              color="neutral"
              onClick={() => modalRef.current.close()}
            >
              Dismiss
            </Button>
          </>
        }
        title={"Payment successful"}
        {...args}
      >
        Your payment has been successfully submitted. We’ve sent you an email
        with all of the details of your order.
      </ConfirmationForm>
    </>
  );
};

# Confirmation Form

<Story name="Default" args={{ color: "primary" }}>
  {TemplateDefault.bind({})}
</Story>

<SyntaxHighlighter language="jsx" style={nord}>
  {'import { ConfirmationForm} from "@lanaco/lnc-react-ui";'}
</SyntaxHighlighter>

<SyntaxHighlighter language="jsx" style={nord}>
  {"(args) => {\n" +
    " const modalRef = useRef();\n" +
    " return (\n" +
    "   <>\n" +
    "     <Button onClick={() => modalRef.current.open()}>Open Modal</Button>\n" +
    "     <ConfirmationForm\n" +
    "       ref={modalRef}\n" +
    "       actions={\n" +
    "         <Button onClick={() => modalRef.current.close()}>\n" +
    "           Got it, thanks!\n" +
    "         </Button>\n" +
    "       '}\n" +
    '       title={"Payment successful"}\n' +
    "       {...args}\n" +
    "     '>\n" +
    "       Your payment has been successfully submitted. We’ve sent you an email\n" +
    "       with all of the details of your order.\n" +
    "     </ConfirmationForm>\n" +
    "   </>\n" +
    " );\n" +
    "};"}
</SyntaxHighlighter>

<ArgsTable story="Default" />

## Status

Default status icon is set wiht `statusIcon={true}`. Different statuses are defined with `color={"success"}`, `color={"warning"}`, `color={"danger"}`, `color={"information"}`.

<Story name="Status" args={{}}>
  {TemplateStatus.bind({})}
</Story>

<SyntaxHighlighter language="jsx" style={nord}>
  {"(args) => {\n" +
    ' const [status, setStatus] = useState("information");\n' +
    " const modalRef = useRef();\n" +
    " const openModal = (modalStatus) => {\n" +
    "   setStatus(modalStatus);\n" +
    "   modalRef.current.open();\n" +
    " };\n" +
    " return (\n" +
    "   <>\n" +
    '     <div style={{ display: "flex", gap: "12px" }}>\n' +
    '       <Button onClick={() => openModal("secondary")} color="secondary">\n' +
    "         Open Modal\n" +
    "       </Button>\n" +
    "     </div>\n" +
    "     <ConfirmationForm\n" +
    "       ref={modalRef}\n" +
    '       statusIcon="user"\n' +
    "       color={status}\n" +
    '       actionsAlignment={"right"}\n' +
    "       actions={\n" +
    "         <>\n" +
    "           <Button\n" +
    '             btnType="outline"\n' +
    '             color="neutral"\n' +
    "             onClick={() => modalRef.current.close()}\n" +
    "           >\n" +
    "             Dismiss\n" +
    "           </Button>\n" +
    '           <Button btnType="tinted" color="secondary">\n' +
    "             Open\n" +
    "           </Button>\n" +
    "         </>\n" +
    "         }\n" +
    '       title={"Payment successful"}\n' +
    "       {...args}\n" +
    "      >\n" +
    "        Your payment has been successfully submitted. We’ve sent you an email\n" +
    "        with all of the details of your order.\n" +
    "     </ConfirmationForm>\n" +
    "   </>\n" +
    " );\n" +
    "};"}
</SyntaxHighlighter>

<Story name="Status Element" args={{}}>
  {TemplateStatusElement.bind({})}
</Story>

<SyntaxHighlighter language="jsx" style={nord}>
  {"(args) => {\n" +
    ' const [status, setStatus] = useState("information");\n' +
    " const modalRef = useRef();\n" +
    " const openModal = (modalStatus) => {\n" +
    "   setStatus(modalStatus);\n" +
    "   modalRef.current.open();\n" +
    " };\n" +
    " return (\n" +
    "   <>\n" +
    '     <div style={{ display: "flex", gap: "12px" }}>\n' +
    '       <Button onClick={() => openModal("secondary")} color="secondary">\n' +
    "         Open Modal\n" +
    "       </Button>\n" +
    "     </div>\n" +
    "     <ConfirmationForm\n" +
    "       ref={modalRef}\n" +
    '       statusIcon={<Icon icon="user" />}\n' +
    "       color={status}\n" +
    '       actionsAlignment={"right"}\n' +
    "       actions={\n" +
    "         <>\n" +
    "           <Button\n" +
    '             btnType="outline"\n' +
    '             color="neutral"\n' +
    "             onClick={() => modalRef.current.close()}\n" +
    "           >\n" +
    "             Dismiss\n" +
    "           </Button>\n" +
    '           <Button btnType="tinted" color="secondary">\n' +
    "             Open\n" +
    "           </Button>\n" +
    "         </>\n" +
    "        }\n" +
    '       title={"Payment successful"}\n' +
    "       {...args}\n" +
    "      >\n" +
    "        Your payment has been successfully submitted. We’ve sent you an email\n" +
    "        with all of the details of your order.\n" +
    "      </ConfirmationForm>\n" +
    "   </>\n" +
    " );\n" +
    "};"}
</SyntaxHighlighter>

## Centered

<Story name="Centered" args={{}}>
  {TemplateCentered.bind({})}
</Story>

<SyntaxHighlighter language="jsx" style={nord}>
  {"(args) => {\n" +
    "const modalRef = useRef();\n" +
    " return (\n" +
    "   <>\n" +
    "     <Button onClick={() => modalRef.current.open()}>Open Modal</Button>\n" +
    "     <ConfirmationForm\n" +
    "        ref={modalRef}\n" +
    '        type={"centered"}\n' +
    "        actions={\n" +
    "           <>\n" +
    '             <Button btnType="tinted" color="secondary">\n' +
    "               Open\n" +
    "             </Button>\n" +
    '             <Button btnType="outline" color="neutral" onClick={() => modalRef.current.close()}>\n' +
    "               Dismiss\n" +
    "             </Button>\n" +
    "           </>\n" +
    "          }\n" +
    '        title={"Payment successful"}\n' +
    "        {...args}\n" +
    "      >\n" +
    "         Your payment has been successfully submitted. We’ve sent you an email\n" +
    "         with all of the details of your order.\n" +
    "     </ConfirmationForm>\n" +
    "   </>\n" +
    " );\n" +
    "};"}
</SyntaxHighlighter>

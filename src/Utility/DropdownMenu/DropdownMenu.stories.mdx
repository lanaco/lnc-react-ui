import { Meta, Story, Canvas, Props } from "@storybook/addon-docs/blocks";
import { ArgsTable, Stories } from "@storybook/addon-docs";
import DropdownMenu from "./index";
import DropdownItem from "./DropdownItem";
import NestedDropdownItem from "./NestedDropdownItem";
import Button from "../../General/Button";
import Separator from "./Separator";
import { useRef } from "react";

<Meta title="Utility/Dropdown Menu" component={DropdownMenu} />

# Drop Down Menu

```jsx
import {
  DropdownMenu,
  DropdownItem,
  NestedDropdownItem,
  Separator,
} from "@lanaco/lnc-react-ui";
```

<Canvas style={{ width: "100%" }}>
  <Story name="Default" args={{}}>
    {(args) => (
      <DropdownMenu control={"Options"} portalTarget={document.body} {...args}>
        <DropdownItem icon="pen">Edit</DropdownItem>
        <DropdownItem icon="clone">Duplicate</DropdownItem>
        <Separator />
        <DropdownItem icon="archive">Archive</DropdownItem>
        <DropdownItem icon="arrow-right">Move</DropdownItem>
        <Separator />
        <DropdownItem icon="trash">Delete</DropdownItem>
      </DropdownMenu>
    )}
  </Story>
</Canvas>

<ArgsTable story="Default" />

### Subcompnents

<ArgsTable components={{ DropdownItem, NestedDropdownItem, Separator }} />

## Custom control

<Canvas>
  <Story name="Custom Control" args={{}}>
    {(args) => (
      <DropdownMenu
        portalTarget={document.body}
        control={
          <Button
            btnType={"outline"}
            borderRadius={"curved"}
            text="Options"
            trailingIcon="angle-down"
          />
        }
        {...args}
      >
        <DropdownItem icon="pen">Edit</DropdownItem>
        <DropdownItem icon="clone">Duplicate</DropdownItem>
        <Separator />
        <DropdownItem icon="archive" disabled>
          Archive
        </DropdownItem>
        <DropdownItem icon="arrow-right">Move</DropdownItem>
        <Separator />
        <DropdownItem icon="trash">Delete</DropdownItem>
      </DropdownMenu>
    )}
  </Story>
</Canvas>

## Nested Items

<Canvas>
  <Story name="Nested Items" args={{}}>
    {(args) => {
      const containerRef = useRef();
      return (
        <div
          ref={containerRef}
          style={{
            height: "200px",
            width: "100%",
            position: "relative",
            overflow: "auto",
          }}
        >
          <DropdownMenu
            portalTarget={containerRef}
            control={<Button text="Options" trailingIcon="angle-down" />}
            {...args}
          >
            <DropdownItem icon="pen">Edit</DropdownItem>
            <DropdownItem icon="clone">Duplicate</DropdownItem>
            <Separator />
            <NestedDropdownItem
              item={<DropdownItem icon="archive">Archive</DropdownItem>}
            >
              <DropdownItem icon="clock">History</DropdownItem>
              <NestedDropdownItem
                item={<DropdownItem icon="pen">Data</DropdownItem>}
              >
                <DropdownItem icon="users">Users</DropdownItem>
                <DropdownItem icon="file">Documents</DropdownItem>
              </NestedDropdownItem>
              <DropdownItem icon="arrow-right">Move</DropdownItem>
            </NestedDropdownItem>
            <Separator />
            <DropdownItem icon="trash">Delete</DropdownItem>
            <DropdownItem icon="pen">Edit</DropdownItem>
            <DropdownItem icon="clone">Duplicate</DropdownItem>
            <Separator />
          </DropdownMenu>
        </div>
      );
    }}
  </Story>
</Canvas>

## Width fit content

`widthFitContent={true}`

<Canvas>
  <Story name="Width Fit Content" args={{}}>
    {(args) => (
      <DropdownMenu
        widthFitContent={true}
        portalTarget={document.body}
        control={
          <Button
            btnType={"outline"}
            text="BAM"
            borderRadius={"curved"}
            trailingIcon="angle-down"
          />
        }
        {...args}
      >
        <DropdownItem>USD</DropdownItem>
        <DropdownItem>EUR</DropdownItem>
      </DropdownMenu>
    )}
  </Story>
</Canvas>

## Sizes

<Canvas>
  <Story name="Sizes" args={{}}>
    {(args) => (
      <div style={{ display: "flex", gap: "10px" }}>
        <DropdownMenu {...args} control={"Options"} size="small" portalTarget={document.body}>
          <DropdownItem icon="pen">Edit</DropdownItem>
          <DropdownItem icon="clone">Duplicate</DropdownItem>
          <Separator />
          <DropdownItem icon="archive">Archive</DropdownItem>
          <DropdownItem icon="arrow-right">Move</DropdownItem>
          <Separator />
          <DropdownItem icon="trash">Delete</DropdownItem>
        </DropdownMenu>
        <DropdownMenu {...args} control={"Options"} size="medium" portalTarget={document.body}>
          <DropdownItem icon="pen">Edit</DropdownItem>
          <DropdownItem icon="clone">Duplicate</DropdownItem>
          <Separator />
          <DropdownItem icon="archive">Archive</DropdownItem>
          <DropdownItem icon="arrow-right">Move</DropdownItem>
          <Separator />
          <DropdownItem icon="trash">Delete</DropdownItem>
        </DropdownMenu>
        <DropdownMenu {...args} control={"Options"} size="large" portalTarget={document.body}>
          <DropdownItem icon="pen">Edit</DropdownItem>
          <DropdownItem icon="clone">Duplicate</DropdownItem>
          <Separator />
          <DropdownItem icon="archive">Archive</DropdownItem>
          <DropdownItem icon="arrow-right">Move</DropdownItem>
          <Separator />
          <DropdownItem icon="trash">Delete</DropdownItem>
        </DropdownMenu>
      </div>
    )}
  </Story>
</Canvas>

## Colors

<Canvas style={{ width: "100%" }}>
  <Story name="Colors" args={{}}>
    {(args) => (
      <div style={{ display: "flex", gap: "10px" }}>
        <DropdownMenu {...args} control={"Options"} color="primary" portalTarget={document.body}>
          <DropdownItem icon="pen">Edit</DropdownItem>
          <DropdownItem icon="clone">Duplicate</DropdownItem>
          <Separator />
          <DropdownItem icon="archive">Archive</DropdownItem>
          <DropdownItem icon="arrow-right">Move</DropdownItem>
          <Separator />
          <DropdownItem icon="trash">Delete</DropdownItem>
        </DropdownMenu>
        <DropdownMenu {...args} control={"Options"} color="secondary" portalTarget={document.body}>
          <DropdownItem icon="pen">Edit</DropdownItem>
          <DropdownItem icon="clone">Duplicate</DropdownItem>
          <Separator />
          <DropdownItem icon="archive">Archive</DropdownItem>
          <DropdownItem icon="arrow-right">Move</DropdownItem>
          <Separator />
          <DropdownItem icon="trash">Delete</DropdownItem>
        </DropdownMenu>
        <DropdownMenu {...args} control={"Options"} color="success" portalTarget={document.body}>
          <DropdownItem icon="pen">Edit</DropdownItem>
          <DropdownItem icon="clone">Duplicate</DropdownItem>
          <Separator />
          <DropdownItem icon="archive">Archive</DropdownItem>
          <DropdownItem icon="arrow-right">Move</DropdownItem>
          <Separator />
          <DropdownItem icon="trash">Delete</DropdownItem>
        </DropdownMenu>
        <DropdownMenu {...args} control={"Options"} color="warning" portalTarget={document.body}>
          <DropdownItem icon="pen">Edit</DropdownItem>
          <DropdownItem icon="clone">Duplicate</DropdownItem>
          <Separator />
          <DropdownItem icon="archive">Archive</DropdownItem>
          <DropdownItem icon="arrow-right">Move</DropdownItem>
          <Separator />
          <DropdownItem icon="trash">Delete</DropdownItem>
        </DropdownMenu>
        <DropdownMenu {...args} control={"Options"} color="danger" portalTarget={document.body}>
          <DropdownItem icon="pen">Edit</DropdownItem>
          <DropdownItem icon="clone">Duplicate</DropdownItem>
          <Separator />
          <DropdownItem icon="archive">Archive</DropdownItem>
          <DropdownItem icon="arrow-right">Move</DropdownItem>
          <Separator />
          <DropdownItem icon="trash">Delete</DropdownItem>
        </DropdownMenu>
        <DropdownMenu {...args} control={"Options"} color="information" portalTarget={document.body}>
          <DropdownItem icon="pen">Edit</DropdownItem>
          <DropdownItem icon="clone">Duplicate</DropdownItem>
          <Separator />
          <DropdownItem icon="archive">Archive</DropdownItem>
          <DropdownItem icon="arrow-right">Move</DropdownItem>
          <Separator />
          <DropdownItem icon="trash">Delete</DropdownItem>
        </DropdownMenu>
        <DropdownMenu {...args} control={"Options"} color="neutral" portalTarget={document.body}>
          <DropdownItem icon="pen">Edit</DropdownItem>
          <DropdownItem icon="clone">Duplicate</DropdownItem>
          <Separator />
          <DropdownItem icon="archive">Archive</DropdownItem>
          <DropdownItem icon="arrow-right">Move</DropdownItem>
          <Separator />
          <DropdownItem icon="trash">Delete</DropdownItem>
        </DropdownMenu>
      </div>
    )}
  </Story>
</Canvas>

## Animation

For _DropdownMenu_ animations <u> [framer-motion](https://www.npmjs.com/package/framer-motion) </u> is used, which is controller throught `animation` prop. <u>[framer-motion documentation](https://www.framer.com/docs/animation/)</u>
